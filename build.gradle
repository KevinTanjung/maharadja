plugins {
  id "application"
}

repositories {
  // Use Maven Central for resolving dependencies.
  mavenCentral()
}

dependencies {
  testImplementation "org.junit.jupiter:junit-jupiter:5.8.2"
}

application {
  mainClass = "edu.uph.learn.maharadja.Main"
}

tasks.named("test") {
  useJUnitPlatform()
}

tasks.named("run") {
  doFirst {
    if (project.hasProperty("server")) {
      args = ["--server", project.property("server").toString()]
    } else if (project.hasProperty("client")) {
      args = ["--client", project.property("client").toString()]
    }
  }
}
